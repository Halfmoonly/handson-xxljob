# handson-xxljob
手写xxljob框架章节与分支结构严格对照：
- 第一章对应前六节xxljob-01~xxljob-06，属于xxljob核心框架脉络，让你具备二次开发的能力
- 第二章对应第七节xxljob-07，本节开始进入RPC章节，实现了心跳检测执行器的功能，保证调度的有效性。另外在面对多个执行器地址的时候，我们还实现了路由策略和故障转移（一种特殊的路由策略）

手写xxljob框架采用多分支开发，每个分支都是可运行的程度：
- xxljob-01：论述调度中心的必要性，给出样例程序`JobScheduleHelper`
- xxljob-02：调度中心引入任务执行触发器`XxlJobTrigger`实现`HTTP`请求（回调）目标执行器任务，同时引入快慢双线程池避免短耗时的目标任务被阻塞
- xxljob-03：调度中心引入时间轮数据结构，和时间轮线程，精准调度任务
- xxljob-04：本节初始化了`xxljob`脚本初步搭建出admin管理界面默认账密`Admin/123456`，同时在调度中心测引入了`MySQL`分布式锁，以应对调度中心集群部署场景下调度的唯一性
- xxljob-05：本节给出了执行器测初始化过程，`SmartInitializingSingleton`收集所有的`@XxlJob`注解标记的`Method`方便后期通过反射执行。另外还给出了执行器作为客户端向调度中心注册自身`xxl_job_registry`信息。（注意真正的任务信息`xxl_job_info`是后期用户手动录入的）
- xxljob-06：本节给出了执行器作为服务端的程序，内嵌了`Netty`用于接收调度中心的`Trigger`。同时引入了业务线程池消费`channelRead0`，避免了`Netty`单线程`IO`阻塞，职责分明。最终还为每个定时任务创建独立的线程和阻塞队列，解决了长耗时但高频的任务耗尽业务线程池资源的问题
- xxljob-07：本节同时改造了执行器侧和调度中心侧程序，实现了心跳检测执行器的功能，保证调度的有效性。另外在面对多个执行器地址的时候，我们还实现了多种路由策略和故障转移（一种特殊的路由策略）
- 更多分支，持续更新中

main分支涵盖以上所有分支功能，全量文档见：[docs](docs)
